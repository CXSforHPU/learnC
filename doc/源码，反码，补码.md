# 源码、反码和补码

源码、反码和补码是计算机中表示有符号整数的三种编码方式，主要用于处理负数在二进制中的表示。

## 1. 源码（原码）

### 定义
原码是最直观的表示方法，最高位为符号位，0表示正数，1表示负数，其余位表示数值的绝对值。

### 特点
- 正数的原码就是其二进制表示
- 负数的原码是符号位为1，数值位为其绝对值的二进制表示
- 0有两种表示方法：+0（00000000）和-0（10000000）

### 示例（以8位为例）
```
+5的原码：0000 0101
-5的原码：1000 0101
+0的原码：0000 0000
-0的原码：1000 0000
```

## 2. 反码

### 定义
反码是在原码的基础上得到的：
- 正数的反码与原码相同
- 负数的反码是符号位不变，数值位按位取反

### 特点
- 正数的反码与原码一致
- 负数的反码通过原码按位取反得到
- 0仍然有两种表示方法：+0（00000000）和-0（11111111）

### 示例（以8位为例）
```
+5的反码：0000 0101 (与原码相同)
-5的反码：1111 1010 (符号位不变，数值位取反)
+0的反码：0000 0000
-0的反码：1111 1111
```

## 3. 补码

### 定义
补码是现代计算机中最常用的表示方法：
- 正数的补码与原码相同
- 负数的补码是在其反码的基础上加1

### 特点
- 解决了0的两种表示问题，只有一个0（00000000）
- 可以将减法运算转换为加法运算，简化硬件设计
- 数值范围比原码和反码多表示一个最小值

### 示例（以8位为例）
```
+5的补码：0000 0101 (与原码相同)
-5的补码：1111 1011 (反码1111 1010 + 1)
 0的补码：0000 0000 (0只有一种表示)
```

## 三种编码的对比

| 编码方式 | 正数表示 | 负数表示 | 零的表示 | 数值范围(8位) |
|---------|---------|---------|---------|-------------|
| 原码 | 与二进制相同 | 符号位为1，数值位为绝对值 | ±0 (00000000, 10000000) | -127 到 +127 |
| 反码 | 与二进制相同 | 原码数值位取反 | ±0 (00000000, 11111111) | -127 到 +127 |
| 补码 | 与二进制相同 | 反码+1 | 0 (00000000) | -128 到 +127 |

## 补码的优势

1. **统一了零的表示**：只有一个零，避免了歧义
2. **简化运算**：减法可以转换为加法，硬件实现更简单
3. **扩展了表示范围**：8位补码可以表示-128到+127，比原码和反码多一个数
4. **符号位参与运算**：符号位可以和数值位一起参与运算

## 实际应用

现代计算机系统普遍采用补码表示有符号整数，因为：
- 硬件实现简单
- 运算规则统一
- 能更有效地利用存储空间

在C语言中，有符号整数类型（如int、short、long等）在内存中的存储就是采用补码形式。
